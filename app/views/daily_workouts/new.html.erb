<div class="h-full">
  <div class="flex mt-10 justify-center self-center">
    <div class="w-full max-w-xs">
      <div class="bg-white shadow-xl rounded px-8 pt-6 pb-8 mb-4">
        <%= simple_form_for @daily_workout do |f| %>
            <%= f.input :focus %>
            <%= f.simple_fields_for :lifts do |w| %>
              <div id='fieldsetContainer'>
                <fieldset id="0" class="text-indigo-500">
                  <%= w.input :name %>
                  <%= w.input :sets %>
                  <%= w.input :reps %>
              <% end %>
              </fieldset>
              </div>
              <button type="button" class="text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 shadow-lg shadow-blue-500/50 dark:shadow-lg dark:shadow-blue-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 ">
            <%= f.button :submit %>
              </button>
            <%end%>
            <br/>
            <button id=”addWorkout” onclick="addWorkout()" class="bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-full">
              Add lift
            </button>
      </div>
    </div>
  </div>
</div>

<script>
  const addWorkout = ()=> {
        const lastId =   document.querySelector('#fieldsetContainer').lastElementChild.id;
        console.log(lastId)

        const newId = parseInt(lastId,10) + 1
        console.log(newId)

        const newFieldset = document.querySelector('[id="0"]').outerHTML.replace(/0/g, newId)
        console.log(newFieldset)
        document.querySelector("#fieldsetContainer").insertAdjacentHTML("beforeend", newFieldset)
    }
</script>